const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/GalleryPage-ibFAzntf.js","assets/vendor-ui-CF6Z0xi_.js","assets/vendor-react-6Nu9zJZJ.js","assets/vendor-state-DWy-Oca_.js","assets/vendor-charts-BiG7rB-8.js","assets/InventoryPage-DWOXwXxB.js","assets/SalesPage-C7PwLpTT.js","assets/TransactionHistoryPage-B_sebW0g.js"])))=>i.map(i=>d[i]);
import{G as w,j as e}from"./vendor-ui-CF6Z0xi_.js";import{u as te,a as x,N as T,d as G,b as W,e as ne,f as I,h as se,B as re}from"./vendor-react-6Nu9zJZJ.js";import{c as oe}from"./vendor-state-DWy-Oca_.js";import"./vendor-charts-BiG7rB-8.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}})();function ae(){const{pathname:n}=te();return x.useEffect(()=>{window.scrollTo(0,0)},[n]),null}function U(n){return w({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m112 244 144-144 144 144M256 120v292"},child:[]}]})(n)}function ie(n){return w({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M80 212v236a16 16 0 0 0 16 16h96V328a24 24 0 0 1 24-24h80a24 24 0 0 1 24 24v136h96a16 16 0 0 0 16-16V212"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M480 256 266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256m368-77V64h-48v69"},child:[]}]})(n)}function ce(n){return w({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M432 112V96a48.14 48.14 0 0 0-48-48H64a48.14 48.14 0 0 0-48 48v256a48.14 48.14 0 0 0 48 48h16"},child:[]},{tag:"rect",attr:{width:"400",height:"336",x:"96",y:"128",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"45.99",ry:"45.99"},child:[]},{tag:"ellipse",attr:{cx:"372.92",cy:"219.64",fill:"none",strokeMiterlimit:"10",strokeWidth:"32",rx:"30.77",ry:"30.55"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M342.15 372.17 255 285.78a30.93 30.93 0 0 0-42.18-1.21L96 387.64M265.23 464l118.59-117.73a31 31 0 0 1 41.46-1.87L496 402.91"},child:[]}]})(n)}const A={BASE_URL:"/Nayal_Tex/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},F=new Map,L=n=>{const r=F.get(n);return r?Object.fromEntries(Object.entries(r.stores).map(([i,a])=>[i,a.getState()])):{}},le=(n,r,i)=>{if(n===void 0)return{type:"untracked",connection:r.connect(i)};const a=F.get(i.name);if(a)return{type:"tracked",store:n,...a};const t={connection:r.connect(i),stores:{}};return F.set(i.name,t),{type:"tracked",store:n,...t}},de=(n,r={})=>(i,a,t)=>{const{enabled:s,anonymousActionType:d,store:l,...c}=r;let m;try{m=(s??(A?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!m)return(A?"production":void 0)!=="production"&&s&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),n(i,a,t);const{connection:o,...j}=le(l,m,c);let f=!0;t.setState=(h,v,y)=>{const u=i(h,v);if(!f)return u;const S=y===void 0?{type:d||"anonymous"}:typeof y=="string"?{type:y}:y;return l===void 0?(o?.send(S,a()),u):(o?.send({...S,type:`${l}/${S.type}`},{...L(c.name),[l]:t.getState()}),u)};const p=(...h)=>{const v=f;f=!1,i(...h),f=v},g=n(t.setState,a,t);if(j.type==="untracked"?o?.init(g):(j.stores[j.store]=t,o?.init(Object.fromEntries(Object.entries(j.stores).map(([h,v])=>[h,h===j.store?g:v.getState()])))),t.dispatchFromDevtools&&typeof t.dispatch=="function"){let h=!1;const v=t.dispatch;t.dispatch=(...y)=>{(A?"production":void 0)!=="production"&&y[0].type==="__setState"&&!h&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),h=!0),v(...y)}}return o.subscribe(h=>{var v;switch(h.type){case"ACTION":if(typeof h.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return H(h.payload,y=>{if(y.type==="__setState"){if(l===void 0){p(y.state);return}Object.keys(y.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const u=y.state[l];if(u==null)return;JSON.stringify(t.getState())!==JSON.stringify(u)&&p(u);return}t.dispatchFromDevtools&&typeof t.dispatch=="function"&&t.dispatch(y)});case"DISPATCH":switch(h.payload.type){case"RESET":return p(g),l===void 0?o?.init(t.getState()):o?.init(L(c.name));case"COMMIT":if(l===void 0){o?.init(t.getState());return}return o?.init(L(c.name));case"ROLLBACK":return H(h.state,y=>{if(l===void 0){p(y),o?.init(t.getState());return}p(y[l]),o?.init(L(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return H(h.state,y=>{if(l===void 0){p(y);return}JSON.stringify(t.getState())!==JSON.stringify(y[l])&&p(y[l])});case"IMPORT_STATE":{const{nextLiftedState:y}=h.payload,u=(v=y.computedStates.slice(-1)[0])==null?void 0:v.state;if(!u)return;p(l===void 0?u:u[l]),o?.send(null,y);return}case"PAUSE_RECORDING":return f=!f}return}}),g},ue=de,H=(n,r)=>{let i;try{i=JSON.parse(n)}catch(a){console.error("[zustand devtools middleware] Could not parse the received json",a)}i!==void 0&&r(i)};function me(n,r){let i;try{i=n()}catch{return}return{getItem:t=>{var s;const d=c=>c===null?null:JSON.parse(c,void 0),l=(s=i.getItem(t))!=null?s:null;return l instanceof Promise?l.then(d):d(l)},setItem:(t,s)=>i.setItem(t,JSON.stringify(s,void 0)),removeItem:t=>i.removeItem(t)}}const k=n=>r=>{try{const i=n(r);return i instanceof Promise?i:{then(a){return k(a)(i)},catch(a){return this}}}catch(i){return{then(a){return this},catch(a){return k(a)(i)}}}},he=(n,r)=>(i,a,t)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,y)=>({...y,...v}),...r},d=!1;const l=new Set,c=new Set;let m;try{m=s.getStorage()}catch{}if(!m)return n((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),i(...v)},a,t);const o=k(s.serialize),j=()=>{const v=s.partialize({...a()});let y;const u=o({state:v,version:s.version}).then(S=>m.setItem(s.name,S)).catch(S=>{y=S});if(y)throw y;return u},f=t.setState;t.setState=(v,y)=>{f(v,y),j()};const p=n((...v)=>{i(...v),j()},a,t);let g;const h=()=>{var v;if(!m)return;d=!1,l.forEach(u=>u(a()));const y=((v=s.onRehydrateStorage)==null?void 0:v.call(s,a()))||void 0;return k(m.getItem.bind(m))(s.name).then(u=>{if(u)return s.deserialize(u)}).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==s.version){if(s.migrate)return s.migrate(u.state,u.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return u.state}).then(u=>{var S;return g=s.merge(u,(S=a())!=null?S:p),i(g,!0),j()}).then(()=>{y?.(g,void 0),d=!0,c.forEach(u=>u(g))}).catch(u=>{y?.(void 0,u)})};return t.persist={setOptions:v=>{s={...s,...v},v.getStorage&&(m=v.getStorage())},clearStorage:()=>{m?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>h(),hasHydrated:()=>d,onHydrate:v=>(l.add(v),()=>{l.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},h(),g||p},pe=(n,r)=>(i,a,t)=>{let s={storage:me(()=>localStorage),partialize:h=>h,version:0,merge:(h,v)=>({...v,...h}),...r},d=!1;const l=new Set,c=new Set;let m=s.storage;if(!m)return n((...h)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),i(...h)},a,t);const o=()=>{const h=s.partialize({...a()});return m.setItem(s.name,{state:h,version:s.version})},j=t.setState;t.setState=(h,v)=>{j(h,v),o()};const f=n((...h)=>{i(...h),o()},a,t);t.getInitialState=()=>f;let p;const g=()=>{var h,v;if(!m)return;d=!1,l.forEach(u=>{var S;return u((S=a())!=null?S:f)});const y=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(h=a())!=null?h:f))||void 0;return k(m.getItem.bind(m))(s.name).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==s.version){if(s.migrate)return[!0,s.migrate(u.state,u.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,u.state];return[!1,void 0]}).then(u=>{var S;const[P,M]=u;if(p=s.merge(M,(S=a())!=null?S:f),i(p,!0),P)return o()}).then(()=>{y?.(p,void 0),p=a(),d=!0,c.forEach(u=>u(p))}).catch(u=>{y?.(void 0,u)})};return t.persist={setOptions:h=>{s={...s,...h},h.storage&&(m=h.storage)},clearStorage:()=>{m?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>d,onHydrate:h=>(l.add(h),()=>{l.delete(h)}),onFinishHydration:h=>(c.add(h),()=>{c.delete(h)})},s.skipHydration||g(),p||f},fe=(n,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((A?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),he(n,r)):pe(n,r),ve=fe,ge="/Nayal_Tex/assets/01-Chy3lr2u.webp",ye="/Nayal_Tex/assets/02-CmyvgjN8.webp",je="/Nayal_Tex/assets/03-CLGaguvY.webp",xe="/Nayal_Tex/assets/04-DJI4y7aC.webp",Se=[{id:"gold",name:"ذهبي",code:"#FFD700",image:ge,inStock:15,sold:5},{id:"green",name:"أخضر",code:"#32CD32",image:ye,inStock:20,sold:10},{id:"white",name:"أبيض",code:"#FFFFFF",image:je,inStock:25,sold:15},{id:"black",name:"أسود",code:"#000000",image:xe,inStock:10,sold:8}],B=(n,r=1)=>Array.from({length:n},(i,a)=>({id:`shape-${r+a}`,name:`شكل ${r+a}`,variants:Se.map(t=>({...t,inStock:Math.floor(Math.random()*50)+5,sold:Math.floor(Math.random()*20)}))})),D=[{id:"type1",name:"رومانية",description:"ستائر كلاسيكية أنيقة تناسب جميع أنواع الغرف",shapes:B(10,1)},{id:"type2",name:"بلاك اوت",description:"ستائر عازلة للضوء والصوت",shapes:B(10,11)},{id:"type3",name:"شيفون",description:"ستائر خفيفة تسمح بمرور الضوء",shapes:B(10,21)}],C=oe(ue(ve((n,r)=>({curtainTypes:D,transactions:[],getAllProducts:()=>{const{curtainTypes:i}=r();return i.flatMap(a=>a.shapes.flatMap(t=>t.variants.map(s=>({...s,shapeId:t.id,shapeName:t.name,typeId:a.id,typeName:a.name}))))},getProduct:(i,a,t)=>{const{curtainTypes:s}=r(),d=s.find(c=>c.id===i);if(!d)return null;const l=d.shapes.find(c=>c.id===a);return l&&l.variants.find(c=>c.id===t)||null},updateVariantInventory:(i,a,t,s,d)=>{n(l=>{const c=JSON.parse(JSON.stringify(l.curtainTypes)),m=c.find(f=>f.id===i);if(!m)return l;const o=m.shapes.find(f=>f.id===a);if(!o)return l;const j=o.variants.find(f=>f.id===t);return j&&(j.inStock=Math.max(0,s),j.sold=Math.max(0,d)),{curtainTypes:c}})},addTransaction:i=>{const a=`tx-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,t={...i,id:a,date:i.date||new Date().toISOString()};return n(s=>({transactions:[...s.transactions,t]})),t},editTransaction:(i,a)=>{n(t=>({transactions:t.transactions.map(s=>s.id===i?{...s,...a,updatedAt:new Date().toISOString()}:s)}))},deleteTransaction:i=>{n(a=>({transactions:a.transactions.filter(t=>t.id!==i)}))},getProductTransactions:(i,a,t)=>{const{transactions:s}=r();return s.filter(d=>d.typeId===i&&d.shapeId===a&&d.variantId===t)},resetInventory:()=>{n({curtainTypes:JSON.parse(JSON.stringify(D)),transactions:[]})}}),{name:"hamza-inventory-store",version:2,migrate:(n,r)=>r===0||r===1?{curtainTypes:D,transactions:n.transactions||[]}:n}))),Ne=()=>{const{getProduct:n,updateVariantInventory:r,addTransaction:i,curtainTypes:a}=C();return(s,d,l,c,m={})=>{if(c<=0){console.warn("Amount must be positive");return}const o=n(s,d,l);if(!o){console.error("Product not found");return}const j=a.find(g=>g.id===s),f=j?.shapes.find(g=>g.id===d),p=o.inStock+c;r(s,d,l,p,o.sold),i({typeId:s,shapeId:d,variantId:l,type:"add",amount:c,date:new Date().toISOString(),typeName:j?.name||"Unknown",shapeName:f?.name||"Unknown",productName:o.name||"Unknown",colorName:o.name||"Unknown",colorCode:o.code||"#000000",recipientName:m.name||"المسئول",recipientPhone:m.phone||null,note:m.note||`تم إضافة ${c} قطعة`})}},we=()=>{const{getProduct:n,updateVariantInventory:r,addTransaction:i,curtainTypes:a}=C();return(s,d,l,c,m={})=>{if(c<=0){console.warn("Amount must be positive");return}const o=n(s,d,l);if(!o){console.error("Product not found");return}if(o.inStock<c){console.error("Insufficient stock");return}const j=a.find(h=>h.id===s),f=j?.shapes.find(h=>h.id===d),p=o.inStock-c,g=o.sold+c;r(s,d,l,p,g),i({typeId:s,shapeId:d,variantId:l,type:"remove",amount:c,date:new Date().toISOString(),typeName:j?.name||"Unknown",shapeName:f?.name||"Unknown",productName:o.name||"Unknown",colorName:o.name||"Unknown",colorCode:o.code||"#000000",recipientName:m.name||"المسئول",recipientPhone:m.phone||null,note:m.note||`تم بيع ${c} قطعة إلى ${m.name||"غير معروف"}`})}},et=()=>{const n=C(),r=(a,t,s={})=>{const{transactions:d,getProduct:l,updateVariantInventory:c,editTransaction:m}=n,o=d.find(g=>g.id===a);if(!o)throw new Error("لم يتم العثور على العملية");if(t<=0)throw new Error("يجب أن تكون الكمية رقمًا موجبًا");const j=l(o.typeId,o.shapeId,o.variantId);if(!j)throw new Error("لم يتم العثور على المنتج");const f=o.amount,p=t-f;if(o.type==="add"){const g=j.inStock+p;if(g<0)throw new Error("لا يمكن أن يكون المخزون الناتج بالسالب");c(o.typeId,o.shapeId,o.variantId,g,j.sold)}else if(o.type==="remove"){if(p>0&&j.inStock<p)throw new Error("مخزون غير كاف لزيادة الكمية المُزالة");const g=j.inStock-p,h=j.sold+p;if(g<0||h<0)throw new Error("قيم المخزون/المبيعات الناتجة غير صالحة");c(o.typeId,o.shapeId,o.variantId,g,h)}m(a,{amount:t,...s})},i=a=>{const{transactions:t,getProduct:s,updateVariantInventory:d,deleteTransaction:l}=n,c=t.find(o=>o.id===a);if(!c)throw new Error("لم يتم العثور على العملية");const m=s(c.typeId,c.shapeId,c.variantId);if(!m)throw new Error("لم يتم العثور على المنتج");if(c.type==="add"){const o=m.inStock-c.amount;if(o<0)throw new Error("لا يمكن التراجع عن العملية: المخزون الناتج سيكون بالسالب");d(c.typeId,c.shapeId,c.variantId,o,m.sold)}else if(c.type==="remove"){const o=m.inStock+c.amount,j=Math.max(0,m.sold-c.amount);d(c.typeId,c.shapeId,c.variantId,o,j)}l(a)};return{addTransaction:n.addTransaction,editTransaction:n.editTransaction,deleteTransaction:n.deleteTransaction,getProductTransactions:n.getProductTransactions,getAllTransactions:()=>n.transactions,modifyTransaction:r,deleteTransactionWithRevert:i}},tt=()=>C(n=>n.curtainTypes),Te=x.forwardRef(({allData:n,onSubmit:r,selectedVariantIndex:i=0},a)=>{const[t,s]=x.useState(""),[d,l]=x.useState(null),c=Ne(),m=n?.variants?.[i],o=(p,g="error")=>{l({message:p,type:g})},j=()=>{const p=parseInt(t,10);if(!t||t.trim()===""){o("الرجاء إدخال كمية","warning");return}if(isNaN(p)||p<=0){o("الكمية يجب أن تكون رقم موجب","error");return}if(p>1e3){o("الكمية لا يمكن أن تتجاوز 1000","error");return}if(!m){o("لم يتم العثور على اللون","error");return}c(n.typeId,n.id,m.id,p,{note:`Added ${p} units manually`}),o(`تم إضافة ${p} وحدة بنجاح`,"success"),s(""),setTimeout(()=>{r?.()},1500)},f=()=>{j()};return x.useImperativeHandle(a,()=>({handleSubmit:f})),e.jsxs("div",{children:[d&&e.jsx(V,{message:d.message,type:d.type,onClose:()=>l(null)}),e.jsx("input",{id:"addInput",className:"formInput",type:"number",placeholder:"الكمية",value:t,onChange:p=>s(p.target.value),onKeyPress:p=>p.key==="Enter"&&f(),min:"1",max:"1000"})]})});Te.displayName="AddProduct";const be=x.forwardRef(({allData:n,onSubmit:r,selectedVariantIndex:i=0},a)=>{const[t,s]=x.useState(""),[d,l]=x.useState(""),[c,m]=x.useState(""),[o,j]=x.useState(null),f=we(),p=n?.variants?.[i],g=(u,S="error")=>{j({message:u,type:S})},h=u=>u.replace(/\D/g,"").length>=8,v=()=>{const u=parseInt(t,10);if(!t||t.trim()===""){g("الرجاء إدخال الكمية","warning");return}if(isNaN(u)||u<=0){g("الكمية يجب أن تكون رقم موجب","error");return}if(!p){g("لم يتم العثور على اللون","error");return}if(p.inStock<u){g(`المخزون غير كافي! المتوفر: ${p.inStock}`,"error");return}if(!d||d.trim()===""){g("الرجاء إدخال اسم المستلم","warning");return}if(d.trim().length<2){g("اسم المستلم يجب أن يكون أطول من حرفين","error");return}if(!c||c.trim()===""){g("الرجاء إدخال رقم الهاتف","warning");return}if(!h(c)){g("رقم الهاتف غير صحيح (يجب أن يكون 8 أرقام على الأقل)","error");return}f(n.typeId,n.id,p.id,u,{name:d.trim(),phone:c.trim()}),g(`تم إزالة ${u} وحدة من المخزون بنجاح`,"success"),s(""),l(""),m(""),setTimeout(()=>{r?.()},1500)},y=()=>{v()};return x.useImperativeHandle(a,()=>({handleSubmit:y})),e.jsxs("div",{className:"formContent",children:[o&&e.jsx(V,{message:o.message,type:o.type,onClose:()=>j(null)}),e.jsxs("div",{className:"formGroup",children:[e.jsx("input",{id:"countInput",className:"formInput",type:"number",placeholder:"الكمية",value:t,onChange:u=>s(u.target.value),min:"1"}),e.jsx("input",{id:"nameInput",className:"formInput",type:"text",placeholder:"اسم المستلم",value:d,onChange:u=>l(u.target.value),maxLength:"50"}),e.jsx("input",{id:"numInput",className:"formInput",type:"tel",placeholder:"رقم الهاتف",value:c,onChange:u=>{const S=u.target.value.replace(/\D/g,"");m(S)},onKeyPress:u=>u.key==="Enter"&&y(),maxLength:"15",style:{direction:"rtl"},inputMode:"numeric"})]})]})});be.displayName="RemoveProduct";const Ie=({isOpen:n,setIsOpen:r})=>e.jsx("div",{className:"hamburger",children:e.jsxs("button",{className:`hamburgerBtn ${n?"open":""}`,onClick:()=>r(!n),"aria-label":"Toggle menu",children:[e.jsx("span",{className:"line line1"}),e.jsx("span",{className:"line line2"}),e.jsx("span",{className:"line line3"})]})}),ke="/Nayal_Tex/assets/logo2-BeW7cS3-.png";function Ce(n){return w({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm144 452H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm445.7 51.5l-93.3-93.3C814.7 780.7 828 743.9 828 704c0-97.2-78.8-176-176-176s-176 78.8-176 176 78.8 176 176 176c35.8 0 69-10.7 96.8-29l94.7 94.7c1.6 1.6 3.6 2.3 5.6 2.3s4.1-.8 5.6-2.3l31-31a7.9 7.9 0 0 0 0-11.2zM652 816c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"},child:[]}]})(n)}function Pe(n){return w({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M882 272.1V144c0-17.7-14.3-32-32-32H174c-17.7 0-32 14.3-32 32v128.1c-16.7 1-30 14.9-30 31.9v131.7a177 177 0 0 0 14.4 70.4c4.3 10.2 9.6 19.8 15.6 28.9v345c0 17.6 14.3 32 32 32h676c17.7 0 32-14.3 32-32V535a175 175 0 0 0 15.6-28.9c9.5-22.3 14.4-46 14.4-70.4V304c0-17-13.3-30.9-30-31.9zM214 184h596v88H214v-88zm362 656.1H448V736h128v104.1zm234 0H640V704c0-17.7-14.3-32-32-32H416c-17.7 0-32 14.3-32 32v136.1H214V597.9c2.9 1.4 5.9 2.8 9 4 22.3 9.4 46 14.1 70.4 14.1s48-4.7 70.4-14.1c13.8-5.8 26.8-13.2 38.7-22.1.2-.1.4-.1.6 0a180.4 180.4 0 0 0 38.7 22.1c22.3 9.4 46 14.1 70.4 14.1 24.4 0 48-4.7 70.4-14.1 13.8-5.8 26.8-13.2 38.7-22.1.2-.1.4-.1.6 0a180.4 180.4 0 0 0 38.7 22.1c22.3 9.4 46 14.1 70.4 14.1 24.4 0 48-4.7 70.4-14.1 3-1.3 6-2.6 9-4v242.2zm30-404.4c0 59.8-49 108.3-109.3 108.3-40.8 0-76.4-22.1-95.2-54.9-2.9-5-8.1-8.1-13.9-8.1h-.6c-5.7 0-11 3.1-13.9 8.1A109.24 109.24 0 0 1 512 544c-40.7 0-76.2-22-95-54.7-3-5.1-8.4-8.3-14.3-8.3s-11.4 3.2-14.3 8.3a109.63 109.63 0 0 1-95.1 54.7C233 544 184 495.5 184 435.7v-91.2c0-.3.2-.5.5-.5h655c.3 0 .5.2.5.5v91.2z"},child:[]}]})(n)}function Ee(n){return w({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",strokeWidth:"2",d:"M4.99787498,8.99999999 L4.99787498,0.999999992 L19.4999998,0.999999992 L22.9999998,4.50000005 L23,23 L4,23 M18,1 L18,6 L23,6 M3,19 L8,14 L12,18 L18.5,11.5 M19,17.0003099 L19,11 L13,11"},child:[]}]})(n)}const _e=()=>{const[n,r]=x.useState(!1),[i,a]=x.useState(!0),t=x.useRef(0),s=()=>{window.scrollY-t.current>5?a(!1):t.current-window.scrollY>5&&a(!0),t.current=window.scrollY};return x.useEffect(()=>(window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)),[]),x.useEffect(()=>{const d=l=>{n&&!l.target.closest(".navMenu")&&!l.target.closest(".hamburger")&&r(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[n]),e.jsx("nav",{className:`navbar ${i?"navbarShow":"navbarHide"}`,children:e.jsxs("div",{className:"navContainer",children:[e.jsxs(T,{to:"/",className:"navLogo",children:[e.jsx("img",{src:ke,alt:"Logo",className:"logoImg"}),e.jsxs("span",{className:"nayalText",children:["نيــــــــال تكــــس",e.jsx("br",{}),e.jsx("span",{className:"nayalTextSubtitle",children:"نُـسِـجَتْ بِـحُـبْ"})]})]}),e.jsxs("ul",{className:`navMenu ${n?"active":""}`,children:[e.jsx("li",{className:"navItem",children:e.jsxs(T,{to:"/",end:!0,className:"navLink",onClick:()=>r(!1),children:[e.jsx("span",{className:"linkIcn",children:e.jsx(ie,{})}),"الرئيسية"]})}),e.jsx("li",{className:"navItem",children:e.jsxs(T,{to:"/GalleryPage",className:"navLink",onClick:()=>r(!1),children:[e.jsx("span",{className:"linkIcn",children:e.jsx(ce,{})}),e.jsx("span",{children:"المعرض"})]})}),e.jsx("li",{className:"navItem",children:e.jsxs(T,{to:"/InventoryPage",className:"navLink",onClick:()=>r(!1),children:[e.jsx("span",{className:"linkIcn",children:e.jsx(Pe,{size:21})}),e.jsx("span",{children:"المخزون"})]})}),e.jsx("li",{className:"navItem",children:e.jsxs(T,{to:"/SalesPage",className:"navLink",onClick:()=>r(!1),children:[e.jsx("span",{className:"linkIcn",children:e.jsx(Ee,{size:19})}),e.jsx("span",{children:"المبيعات"})]})}),e.jsx("li",{className:"navItem",children:e.jsxs(T,{to:"/TransactionHistoryPage",className:"navLink",onClick:()=>r(!1),children:[e.jsx("span",{className:"linkIcn",children:e.jsx(Ce,{size:21})}),e.jsx("span",{children:"السجل"})]})})]}),e.jsx("div",{className:"navActions",children:e.jsx(Ie,{isOpen:n,setIsOpen:r,className:"hamburger"})})]})})};function Le(n){return w({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"},child:[]}]})(n)}const Oe=n=>e.jsx("div",{className:"MainContainer",children:n.children}),Ae="modulepreload",Re=function(n){return"/Nayal_Tex/"+n},J={},R=function(r,i,a){let t=Promise.resolve();if(i&&i.length>0){let c=function(m){return Promise.all(m.map(o=>Promise.resolve(o).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),l=d?.nonce||d?.getAttribute("nonce");t=c(i.map(m=>{if(m=Re(m),m in J)return;J[m]=!0;const o=m.endsWith(".css"),j=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${j}`))return;const f=document.createElement("link");if(f.rel=o?"stylesheet":Ae,o||(f.as="script"),f.crossOrigin="",f.href=m,l&&f.setAttribute("nonce",l),document.head.appendChild(f),o)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${m}`)))})}))}function s(d){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=d,window.dispatchEvent(l),!l.defaultPrevented)throw d}return t.then(d=>{for(const l of d||[])l.status==="rejected"&&s(l.reason);return r().catch(s)})},Me=()=>e.jsx(e.Fragment,{children:e.jsx(Oe,{children:e.jsx("div",{className:"PAGE homePage",children:e.jsx("h1",{children:"هيرو سيكشن"})})})}),$=n=>{if(n==null)return n;const r={0:"٠",1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩"};return String(n).replace(/[0-9]/g,i=>r[i])};function ze(n){return w({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"},child:[]}]})(n)}function He(n){return w({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"},child:[]}]})(n)}const O=({children:n,onClose:r})=>W.createPortal(e.jsx("div",{className:"modalOverlay",onClick:r,children:e.jsx("div",{className:"modalContent",onClick:i=>i.stopPropagation(),children:n})}),document.body),Be=({serial:n,tx:r,formatDate:i,formatTime:a,getTypeLabel:t,getTypeClass:s,onDeleteConfirmed:d,onEditConfirmed:l})=>{const c=C(N=>N.getProduct),[m,o]=x.useState(!1),[j,f]=x.useState(!1),[p,g]=x.useState(null),[h,v]=x.useState(r.amount.toString()),[y,u]=x.useState(""),[S,P]=x.useState(""),[M,E]=x.useState(!1),[q,_]=x.useState(!1),z=c(r.typeId,r.shapeId,r.variantId)||{},Y=()=>o(!0),K=()=>{v(String(r.amount)),u(r.recipientName||""),P(r.recipientPhone||""),f(!0)},X=()=>{E(!0)},Q=async()=>{E(!1);try{d&&await d(r)}catch(N){g({message:N.message||"خطأ أثناء حذف العملية",type:"error"})}},Z=()=>{const N=parseInt(h,10);if(isNaN(N)||N<=0){g({message:"الكمية يجب أن تكون رقم موجب",type:"error"});return}_(!0)},ee=async()=>{_(!1);const N=parseInt(h,10);try{if(l){const b={};r.type==="remove"&&(b.recipientName=y,b.recipientPhone=S),await l(r,N,b)}g({message:"تم تعديل العملية بنجاح",type:"success"}),f(!1)}catch(b){g({message:b.message||"خطأ أثناء تعديل العملية",type:"error"})}};return e.jsxs(e.Fragment,{children:[p&&W.createPortal(e.jsx(V,{message:p.message,type:p.type,onClose:()=>g(null)}),document.body),e.jsxs("tr",{children:[e.jsx("td",{className:"serialCell",children:n}),e.jsx("td",{className:"dateCell",children:i(r.date)}),e.jsx("td",{className:"timeCell",children:a(r.date)}),e.jsx("td",{children:r.recipientName||"-"}),e.jsx("td",{children:r.recipientPhone?$(r.recipientPhone):"-"}),e.jsx("td",{className:`typeCell ${s(r.type)}`,children:e.jsx("span",{className:"typeBadge",children:t(r.type)})}),e.jsx("td",{children:r.typeName}),e.jsx("td",{children:r.shapeName}),e.jsx("td",{children:e.jsxs("div",{className:"colorCell",children:[e.jsx("span",{className:"colorDot",style:{backgroundColor:r.colorCode},title:r.colorName}),r.colorName]})}),e.jsx("td",{className:"amountCell",children:e.jsx("strong",{children:$(r.amount)})}),e.jsxs("td",{className:"actionsCell",children:[e.jsx("button",{className:"actionTBtn",onClick:Y,children:e.jsx(Le,{})}),e.jsx("button",{className:"actionTBtn",onClick:K,children:e.jsx(He,{})}),e.jsx("button",{className:"actionTBtn danger",onClick:X,children:e.jsx(ze,{})})]})]}),m&&e.jsxs(O,{onClose:()=>o(!1),children:[e.jsx("h3",{children:"معلومات المنتج"}),e.jsxs("div",{className:"productViewRow",children:[e.jsx("img",{src:z.image||"",alt:r.productName}),e.jsxs("ul",{className:"showDetailsList",children:[e.jsxs("li",{children:[e.jsx("span",{children:"النوع"})," ",e.jsx("span",{children:r.typeName})]}),e.jsxs("li",{children:[e.jsx("span",{children:"الشكل"})," ",e.jsx("span",{children:r.shapeName})]}),e.jsxs("li",{children:[e.jsx("span",{children:"اللون"})," ",e.jsx("span",{children:r.colorName})]}),e.jsxs("li",{children:[e.jsx("span",{children:"المخزون"})," ",e.jsx("span",{children:z.inStock??"-"})]}),e.jsxs("li",{children:[e.jsx("span",{children:"المباع"})," ",e.jsx("span",{children:z.sold??"-"})]})]})]}),e.jsx("div",{style:{textAlign:"right",marginTop:12},children:e.jsx("button",{className:"actionBtn",onClick:()=>o(!1),children:"اغلاق"})})]}),j&&e.jsxs(O,{onClose:()=>f(!1),children:[e.jsx("h3",{children:"تعديل الكمية"}),e.jsxs("div",{className:"formGroup",children:[e.jsxs("label",{children:["الكمية الحالية: ",e.jsx("strong",{children:r.amount})]}),e.jsx("input",{id:"userCount",type:"number",value:h,onChange:N=>v(N.target.value),min:"1"})]}),r.type==="remove"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{children:"اسم العميل:"}),e.jsx("input",{id:"userName",type:"text",value:y,onChange:N=>u(N.target.value),placeholder:"اسم العميل"})]}),e.jsxs("div",{className:"formGroup",children:[e.jsx("label",{children:"رقم الهاتف:"}),e.jsx("input",{id:"userNum",type:"text",value:S,onChange:N=>P(N.target.value),placeholder:"رقم الهاتف"})]})]}),e.jsxs("div",{style:{textAlign:"right",marginTop:12,display:"flex",gap:5},children:[e.jsx("button",{className:"actionBtn",onClick:Z,children:"حفــــــــظ"}),e.jsx("button",{className:"actionBtn",onClick:()=>f(!1),children:"إلغاء"})]})]}),M&&e.jsxs(O,{onClose:()=>E(!1),children:[e.jsx("h3",{children:"تأكيد الحذف"}),e.jsx("p",{children:"هل أنت متأكد من أنك تريد حذف هذه العملية؟ سيتم إرجاع المخزون إلى الحالة السابقة."}),e.jsxs("div",{style:{textAlign:"right",marginTop:12,display:"flex",gap:5},children:[e.jsx("button",{className:"actionBtn danger",onClick:Q,children:"نعم، احذف"}),e.jsx("button",{className:"actionBtn",onClick:()=>E(!1),children:"إلغاء"})]})]}),q&&e.jsxs(O,{onClose:()=>_(!1),children:[e.jsx("h3",{children:"تأكيد تعديل العملية"}),e.jsxs("p",{children:["هل أنت متأكد من تعديل الكمية من ",e.jsx("strong",{children:r.amount})," إلى ",e.jsx("strong",{children:h}),"؟"]}),r.type==="remove"&&e.jsx("div",{style:{marginTop:8,fontSize:"0.9em",color:"#666"},children:e.jsx("p",{children:"سيتم تحديث بيانات العميل أيضاً."})}),e.jsxs("div",{className:"",style:{textAlign:"right",marginTop:12,display:"flex",gap:5},children:[e.jsx("button",{className:"actionBtn",onClick:ee,children:"نعم، قم بالتعديل"}),e.jsx("button",{className:"actionBtn",onClick:()=>_(!1),children:"إلغاء"})]})]})]})},De=G.memo(Be),Fe=({transactions:n,filteredTotal:r,totalTransactions:i,formatDate:a,formatTime:t,getTypeLabel:s,getTypeClass:d,onDeleteConfirmed:l,onEditConfirmed:c})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"tableContainer",children:n.length===0?e.jsx("div",{className:"noTransactions",children:e.jsx("p",{children:"لا توجد عمليات حالياً"})}):e.jsxs("table",{className:"transactionsTable",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"م"}),e.jsx("th",{children:"التاريخ"}),e.jsx("th",{children:"الوقت"}),e.jsx("th",{children:"اسم العميل"}),e.jsx("th",{children:"رقم الهاتف"}),e.jsx("th",{children:"نوع العملية"}),e.jsx("th",{children:"النوع"}),e.jsx("th",{children:"الشكل"}),e.jsx("th",{children:"اللون"}),e.jsx("th",{children:"الكمية"}),e.jsx("th",{children:"إجـــــــــــراءات"})]})}),e.jsx("tbody",{children:n.map((m,o)=>e.jsx(De,{serial:$(o+1),tx:m,formatDate:a,formatTime:t,getTypeLabel:s,getTypeClass:d,onDeleteConfirmed:l,onEditConfirmed:c},m.id))})]})}),n.length>0&&e.jsx("div",{className:"resultsSummary",children:e.jsxs("p",{children:["عرض ",e.jsx("strong",{children:n.length})," من ",e.jsx("strong",{children:i})," عملية — الإجمالي: ",e.jsx("strong",{children:r})," وحدة"]})})]}),nt=G.memo(Fe),$e=x.lazy(()=>R(()=>import("./GalleryPage-ibFAzntf.js"),__vite__mapDeps([0,1,2,3,4]))),Ve=x.lazy(()=>R(()=>import("./InventoryPage-DWOXwXxB.js"),__vite__mapDeps([5,1,2,3,4]))),Ue=x.lazy(()=>R(()=>import("./SalesPage-C7PwLpTT.js"),__vite__mapDeps([6,1,2,4,3]))),Je=x.lazy(()=>R(()=>import("./TransactionHistoryPage-B_sebW0g.js"),__vite__mapDeps([7,1,2,3,4]))),Ge=()=>e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"1.5rem",color:"#666"},children:"جاري التحميل..."}),We=()=>e.jsx(x.Suspense,{fallback:e.jsx(Ge,{}),children:e.jsxs(ne,{children:[e.jsx(I,{path:"/",element:e.jsx(Me,{})}),e.jsx(I,{path:"/GalleryPage",element:e.jsx($e,{})}),e.jsx(I,{path:"/InventoryPage",element:e.jsx(Ve,{})}),e.jsx(I,{path:"/SalesPage",element:e.jsx(Ue,{})}),e.jsx(I,{path:"/TransactionHistoryPage",element:e.jsx(Je,{})})]})}),V=({message:n,type:r="error",duration:i=5e3,onClose:a})=>{const[t,s]=x.useState(!0);return x.useEffect(()=>{const d=setTimeout(()=>{s(!1),setTimeout(()=>{a?.()},300)},i);return()=>clearTimeout(d)},[i,a]),t?e.jsxs("div",{className:`toast toast-${r}`,children:[r==="success"&&"✓ ",r==="error"&&"✗ ",r==="warning"&&"⚠ ",n]}):null},qe=()=>{const[n,r]=x.useState(!1),[i,a]=x.useState(!1),t=x.useRef(null),s=()=>{const c=document.documentElement.scrollTop,m=document.documentElement.scrollHeight,o=document.documentElement.clientHeight,j=c>700,f=m-c<=o+10;r(p=>j!==p?j:p),a(p=>f!==p?f:p)},d=()=>{t.current&&cancelAnimationFrame(t.current),t.current=requestAnimationFrame(s)},l=()=>{window.scrollTo({top:0,behavior:"smooth"})};return x.useEffect(()=>(window.addEventListener("scroll",d,{passive:!0}),()=>{window.removeEventListener("scroll",d),t.current&&cancelAnimationFrame(t.current)}),[]),e.jsx(e.Fragment,{children:e.jsx("button",{className:`arrow-btn ${n?"visible":""} ${i?"at-bottom":""}`,onClick:l,children:e.jsxs("div",{className:"lines-wrapper",children:[e.jsx("span",{className:"lineBtn line-1",children:e.jsx(U,{})}),e.jsx("span",{className:"lineBtn line-2",children:e.jsx(U,{})})]})})})};function Ye(){return e.jsxs(e.Fragment,{children:[e.jsx(_e,{}),e.jsx("div",{className:"AllPages",children:e.jsx(We,{})}),e.jsx(qe,{}),e.jsx(ae,{})]})}window.global||(window.global=window);se.render(e.jsx(x.StrictMode,{children:e.jsx(re,{basename:"/Nayal_Tex",children:e.jsx(Ye,{})})}),document.getElementById("root"));export{Te as A,Oe as M,be as R,V as T,ye as a,je as b,xe as c,tt as d,et as e,nt as f,ge as i,$ as t,C as u};
